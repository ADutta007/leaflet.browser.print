!function(t){function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}var e={};i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=0)}([function(t,i){L.Control.BrowserPrint=L.Control.extend({options:{title:"Print map",position:"topleft",printLayer:null,printModes:["Portrait","Landscape","Auto","Custom"]},initialize:function(t){this._appendControlStyles(),L.Control.prototype.initialize.call(this,t)},onAdd:function(){var t=L.DomUtil.create("div","leaflet-control-browser-print leaflet-bar leaflet-control");L.DomEvent.disableClickPropagation(t);var i=L.DomUtil.create("a","",t);this.link=i,this.link.id="leaflet-browser-print",this.link.title=this.options.title,L.DomEvent.addListener(t,"mouseover",this._displayPageSizeButtons,this),L.DomEvent.addListener(t,"mouseout",this._hidePageSizeButtons,this),this.holder=L.DomUtil.create("ul","browser-print-holder",t);for(var e=[],o=0;o<this.options.printModes.length;o++){var n=this.options.printModes[o],r=n[0].toUpperCase()+n.substring(1).toLowerCase();if(this["_print"+r]){var s=L.DomUtil.create("li","browser-print-mode",this.holder);s.innerHTML=r,L.DomEvent.addListener(s,"click",this["_print"+r],this),e.push(s)}}return this.options.printModes=e,setTimeout(function(){t.className+=26==i.clientWidth?" v0-7":" v1"},10),t},_displayPageSizeButtons:function(){this.holder.style.marginTop="-"+this.link.clientHeight-1+"px",this.options.position.indexOf("left")>0?(this.link.style.borderTopRightRadius="0px",this.link.style.borderBottomRightRadius="0px",this.holder.style.marginLeft=this.link.clientWidth+"px"):(this.link.style.borderTopLeftRadius="0px",this.link.style.borderBottomLeftRadius="0px",this.holder.style.marginRight=this.link.clientWidth+"px"),this.options.printModes.forEach(function(t){t.style.display="inline-block"})},_hidePageSizeButtons:function(){this.holder.style.marginTop="",this.options.position.indexOf("left")>0?(this.link.style.borderTopRightRadius="",this.link.style.borderBottomRightRadius="",this.holder.style.marginLeft=""):(this.link.style.borderTopLeftRadius="",this.link.style.borderBottomLeftRadius="",this.holder.style.marginRight=""),this.options.printModes.forEach(function(t){t.style.display=""})},_printLandscape:function(){this._addPrintClassToContainer("leaflet-browser-print--landscape"),this._print("Landscape")},_printPortrait:function(){this._addPrintClassToContainer("leaflet-browser-print--portrait"),this._print("Portrait")},_printAuto:function(){this._addPrintClassToContainer("leaflet-browser-print--auto"),this.options.autoBounds=this._getBoundsForAllVisualLayers(),this._print(this._getPageSizeFromBounds(this.options.autoBounds))},_printCustom:function(){this._addPrintClassToContainer("leaflet-browser-print--custom"),this._map.on("mousedown",this._startAutoPoligon,this),this._map.on("mouseup",this._endAutoPoligon,this)},_addPrintClassToContainer:function(t){var i=this._map.getContainer();-1===i.className.indexOf(t)&&(i.className+=" "+t)},_removePrintClassFromContainer:function(t){var i=this._map.getContainer();i.className&&i.className.indexOf(t)>-1&&(i.className=i.className.replace(" "+t,""))},_startAutoPoligon:function(t){t.originalEvent.preventDefault(),this._map.dragging.disable(),this._map.off("mousedown",this._startAutoPoligon,this),this.options.custom={start:t.latlng},this._map.on("mousemove",this._moveAutoPoligon,this)},_moveAutoPoligon:function(t){this.options.custom&&(t.originalEvent.preventDefault(),this.options.custom.rectangle&&this._map.removeLayer(this.options.custom.rectangle),this.options.custom.rectangle=L.rectangle([this.options.custom.start,t.latlng],{color:"gray",dashArray:"5, 10"}),this.options.custom.rectangle.addTo(this._map))},_endAutoPoligon:function(t){t.originalEvent.preventDefault(),this._map.off("mousemove",this._moveAutoPoligon,this),this._map.off("mouseup",this._endAutoPoligon,this),this._map.removeLayer(this.options.custom.rectangle),this.options.autoBounds=this.options.custom.rectangle.getBounds(),this.options.custom=void 0,this._map.dragging.enable(),this._print(this._getPageSizeFromBounds(this.options.autoBounds))},_getPageSizeFromBounds:function(t){return Math.abs(t.getNorth()-t.getSouth())>Math.abs(t.getEast()-t.getWest())?"Portrait":"Landscape"},_setupMapSize:function(t,i){switch(i){case"Landscape":t.style.width="1040px",t.style.height="715px";break;default:case"Portrait":t.style.width="850px",t.style.height="1100px"}},_print:function(t){var i=this,e=this._map.getContainer();this.options.origins={bounds:this._map.getBounds(),width:e.style.width,height:e.style.height,printCss:this._addPrintCss(t),printLayer:this._validatePrintLayer()},i._map.fire("browser-print-start",{printLayer:this.options.origins.printLayer}),this._setupMapSize(e,t),this._map.invalidateSize({reset:!0,animate:!1,pan:!1}),this._map.fitBounds(this.options.autoBounds||this.options.origins.bounds),this.options.origins.interval=setInterval(function(){i.options.origins.printLayer._tilesToLoad<1&&(clearInterval(i.options.origins.interval),i._completePrinting(i))},50)},_completePrinting:function(t){setTimeout(function(){t._map.fire("browser-print",{printLayer:t.options.origins.printLayer}),window.print(),t._printEnd(t)},1e3)},_getBoundsForAllVisualLayers:function(){var t=null;for(var i in this._map._layers){var e=this._map._layers[i];e._url||(t?e.getBounds?t.extend(e.getBounds()):e.getLatLng&&t.extend(e.getLatLng()):e.getBounds?t=e.getBounds():e.getLatLng&&(t=L.latLngBounds(e.getLatLng(),e.getLatLng())))}return t},_printEnd:function(t){var i=t;try{i.options.prevLayers&&i.options.prevLayers.forEach(function(t){i._map.addLayer(t)}),i.options.printLayer&&i._map.removeLayer(i.options.printLayer);var e=i._map.getContainer();e.style.width=i.options.origins.width,e.style.height=i.options.origins.height,i._map.invalidateSize(),i._map.fitBounds(i.options.origins.bounds),i.options.autoBounds=void 0,i.options.origins.printCss.remove(),i.options.origins.printLayer._tilesToLoad<0&&i.options.origins.printLayer._reset(),i._removePrintClassFromContainer("leaflet-browser-print--landscape"),i._removePrintClassFromContainer("leaflet-browser-print--portrait"),i._removePrintClassFromContainer("leaflet-browser-print--auto"),i._removePrintClassFromContainer("leaflet-browser-print--custom")}catch(t){console.info(t)}finally{i._map.fire("browser-print-end",{printLayer:i.options.origins.printLayer}),i.options.origins=void 0}},_validatePrintLayer:function(){var t=null,i=this._map,e=i._layers;if(this.options.prevLayers=[],this.options.printLayer){t=this.options.printLayer;for(var o in e){var n=e[o];n._url&&this.options.prevLayers.push(n)}i.addLayer(this.options.printLayer)}else for(var r in e){var s=e[r];s._url&&(t=s)}return this.options.prevLayers.forEach(function(t){i.removeLayer(t)}),t},_addPrintCss:function(t){var i=document.createElement("style");switch(i.setAttribute("type","text/css"),i.innerHTML="@media print { .leaflet-control-container > .leaflet-bottom.leaflet-left, .leaflet-control-container > .leaflet-top.leaflet-left, .leaflet-control-container > .leaflet-top.leaflet-right { display: none!important; } }",i.innerHTML+="@media print { .leaflet-popup-content-wrapper, .leaflet-popup-tip { box-shadow: none; } }",t){case"Landscape":i.innerText+="@media print { @page { size : landscape; }}";break;default:case"Portrait":i.innerText+="@media print { @page { size : portrait; }}"}return document.getElementsByTagName("head")[0].appendChild(i),i},_appendControlStyles:function(){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML+=" .leaflet-control-browser-print a { background: #fff url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcCCi8Vjp+aNAAAAGhJREFUOMvFksENgDAMA68RC7BBN+Cf/ZU33QAmYAT6BolAGxB+RrrIsg1BpfNBVXcPMLMDI/ytpKozMHWwK7BJJ7yYWQbGdBea9wTIkRDzKy0MT7r2NiJACRgotCzxykFI34QY2Ea7KmtxGJ+uX4wfAAAAAElFTkSuQmCC') no-repeat 5px; background-size: 16px 16px; display: block; border-radius: 4px; }",t.innerHTML+=" .v0-7.leaflet-control-browser-print a#leaflet-browser-print { width: 26px; height: 26px; } .v1.leaflet-control-browser-print a#leaflet-browser-print { background-position-x: 7px; }",t.innerHTML+=" .browser-print-holder { margin: 0px; padding: 0px; list-style: none; white-space: nowrap; } .browser-print-holder-left li:last-child { border-top-right-radius: 2px; border-bottom-right-radius: 2px; } .browser-print-holder-right li:first-child { border-top-left-radius: 2px; border-bottom-left-radius: 2px; }",t.innerHTML+=" .browser-print-mode { display: none; background-color: #919187; color: #FFF; font: 11px/19px 'Helvetica Neue', Arial, Helvetica, sans-serif; text-decoration: none; padding: 4px 10px; text-align: center; } .v1 .browser-print-mode { padding: 6px 10px; } .browser-print-mode:hover { background-color: #757570; cursor: pointer; }",t.innerHTML+=" .leaflet-browser-print--custom, .leaflet-browser-print--custom path { cursor: crosshair!important; }",document.getElementsByTagName("head")[0].appendChild(t)}}),L.browserPrint=function(t){if(t&&t.printModes&&(!t.printModes.filter||!t.printModes.length))throw"Please specify valid print modes for Print action. Example: printModes: ['Portrait', 'Landscape', 'Auto', 'Custom']";return new L.Control.BrowserPrint(t)}}]);